/*!
   angular-markdown-text v0.0.1
   (c) 2014 (null) McNull https://github.com/McNull/angular-markdown-text
   License: MIT
*/
!function(n,e){var t=n.module("markdown",[]);t.constant("markdownConfig",{outline:!0,escapeHtml:!1,sanitize:!0,showdown:{extensions:[]}}),t.directive("markdown",["markdown","markdownConfig","$http","$templateCache",function(e,t,r,a){function o(n,e,t){return n[e]?"true"==n[e]:t}return{restrict:"AE",terminal:!0,compile:function(i,c){var m=n.copy(t);m.escapeHtml=o(c,"markdownEscapeHtml",m.escapeHtml),m.outline=o(c,"markdownOutline",m.outline),m.sanitize=o(c,"markdownSanitize",m.sanitize);var l=c.markdown||c.markdownModel,u=c.markdownSrc;return{pre:function(n,e){e.data("markdown",!0)},post:function(n,t){if(!t.parent().inheritedData("markdown"))if(u){var o=0;n.$watch(u,function(n){var i=++o;n?r.get(n,{cache:a}).success(function(n){if(i==o){var r=n?e.makeHtml(n,m):"";void 0!=r&&t.html(r)}}).error(function(){i==o&&t.html("")}):t.html("")})}else if(l)n.$watch(l,function(n){var r=n?e.makeHtml(n,m):"";void 0!=r&&t.html(r)});else{var i=e.makeHtml(t.html(),m);void 0!=i&&t.html(i)}}}}}}]),t.factory("markdown",["markdownConfig","$injector",function(n,t){function r(){return c=c||new e.converter(n.showdown)}function a(e,t){t=t||n,t.outline&&(e=i(e)),t.escapeHtml&&(e=o(e));var a=r().makeHtml(e);if(t.sanitize){if(!m)throw new Error("Missing dependency angular-sanitize.");try{a=m(a)}catch(c){console.log(c),a=void 0}}return a}function o(n){return n.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function i(n){if(n){n=n.replace(/^\s*\n/,"");var e=n.match(/^[ \t]+/);if(e&&e.length){var t="^[ 	]{"+e[0].length+"}",r=new RegExp(t,"gm");n=n.replace(r,"")}}return n}var c,m;return t.has("$sanitize")&&(m=t.get("$sanitize")),{_converter:r,makeHtml:a,outline:i,escapeHtml:o}}])}(angular,Showdown);
//# sourceMappingURL=angular-markdown-text.min.js.map